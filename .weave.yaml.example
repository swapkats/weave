# Weave Configuration Example
# Complete reference: https://docs.weave.dev/config

version: "1.0"

# Optional: Environment variables (can reference shell env with ${VAR})
env:
  DEFAULT_MODEL: "gpt-4"
  # API_KEY: "${OPENAI_API_KEY}"  # From shell environment

agents:
  # Research agent - gathers information
  researcher:
    model: "gpt-4"
    tools:
      - web_search
      - summarizer
      - fact_checker
    config:
      temperature: 0.7
      max_tokens: 1500
    outputs: "research_summary"

  # Writer agent - creates content from research
  writer:
    model: "claude-3-opus"
    tools:
      - text_generator
      - style_guide
    inputs: "researcher"  # Depends on researcher output
    config:
      temperature: 0.9
      max_tokens: 2500
    outputs: "draft_article"

  # Editor agent - refines the content
  editor:
    model: "gpt-4"
    tools:
      - grammar_checker
      - fact_checker
      - plagiarism_detector
    inputs: "writer"  # Depends on writer output
    config:
      temperature: 0.3
      max_tokens: 2000
    outputs: "final_article"

  # SEO optimizer - runs in parallel with editor
  seo_optimizer:
    model: "gpt-3.5-turbo"
    tools:
      - keyword_analyzer
      - meta_generator
    inputs: "writer"  # Also depends on writer
    config:
      temperature: 0.5
    outputs: "seo_metadata"

weaves:
  # Main content pipeline
  content_pipeline:
    description: "Complete content creation workflow: research, write, edit, and optimize"
    agents:
      - researcher
      - writer
      - editor
      - seo_optimizer

  # Quick research-only flow
  research_only:
    description: "Just run the research phase"
    agents:
      - researcher
